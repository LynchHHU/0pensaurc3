local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()

-- [] -- -- [] -- -- [] -- -- [] -- -- [] -- -- [] --

local Window = OrionLib:MakeWindow({Name = "Artillery Hub", HidePremium = false, SaveConfig = true, ConfigFolder = "artillerydf"})

-- [] -- -- [] -- -- [] -- -- [] -- -- [] -- -- [] --
game:GetService("UserInputService").MouseIconEnabled = true -- Shows your mouse cursor
game:GetService("UserInputService").MouseBehavior = Enum.MouseBehavior.Default

for i,v in pairs(getconnections(game.Players.LocalPlayer.Idled)) do
    v:Disable()
end

-- [] -- -- [] -- -- [] -- -- [] -- -- [] -- -- [] --

local plr = game:GetService("Players").LocalPlayer
local TweenService = game:GetService("TweenService")
local Workspace = game:GetService("Workspace")
local noclipE = false
local antifall = nil
local Settings = {}

local function noclip()
    for i, v in pairs(game.Players.LocalPlayer.Character:GetDescendants()) do
        if v:IsA("BasePart") and v.CanCollide == true then
            v.CanCollide = false
        end
    end
end

local Tab = Window:MakeTab({
	Name = "Farming",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
})

local Autofarming = Window:MakeTab({
    Name = "Farming",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

Autofarming:AddLabel("NORMAL MOBS")

local mob_list = {
    "Green Demon",
    "Generic Oni",
    "Generic Slayer",
    "Frosty Oni",
    "Blue Demon",
    "Slayer Boss",
    "Zenitsu"
}

Autofarming:AddDropdown({
    Name = "Select Mobs",
    Default = "Green Demon",
    Options = mob_list,
    Callback = function(v)
        Settings["ChosenMob"] = v
    end    
})

Autofarming:AddToggle({
    Name = "Tween Mobs",
    Default = false,
    Callback = function(v)
        Settings["autofarm_mobs"] = v
    end    
})

Autofarming:AddLabel("BOSSES")

local boss_list = {
    "Kaigaku",
    "Gyutaro",
    "Okuro",
    "Rui",
    "Lower Moon 2",
    "Lower Moon 3",
    "Akaza",
    "Doma",
    "Kokushibo",
}

Autofarming:AddDropdown({
    Name = "Select Boss",
    Default = "Kaigaku",
    Options = boss_list,
    Callback = function(v)
        Settings["ChosenBoss"] = v
    end    
})

Autofarming:AddToggle({
    Name = "Tween Boss",
    Default = false,
    Callback = function(v)
        Settings["autofarm_bosses"] = v
    end    
})

Autofarming:AddSlider({
    Name = "Tween Speed",
    Min = 0,
    Max = 75,
    Default = 75,
    Color = Color3.fromRGB(255,255,255),
    Increment = 1,
    Callback = function(v)
        Settings["TpSpeed"] = v
    end    
})

-- [Auto Farm Function] --

local function getMob()
    local dist, mob = math.huge
    for i, v in pairs(Workspace:GetChildren()) do
        if v:IsA("Model") and v.Name == Settings["ChosenMob"] then
            local get_mag = (game.Players.LocalPlayer.Character.HumanoidRootPart.Position - v.PrimaryPart.Position).magnitude
            if get_mag < dist then
                dist = get_mag
                mob = v
            end
        end
    end
    return mob
end

local function getBoss()
    local dist, boss = math.huge
    for i, v in pairs(Workspace:GetChildren()) do
        if v:IsA("Model") and v.Name == Settings["ChosenBoss"] then
            local get_mag = (game.Players.LocalPlayer.Character.HumanoidRootPart.Position - v.PrimaryPart.Position).magnitude
            if get_mag < dist then
                dist = get_mag
                boss = v
            end
        end
    end
    return boss
end

spawn(function()
  while wait() do
      if Settings.autofarm_mobs then
            pcall(function()
                local enemy_mag = (game.Players.LocalPlayer.Character.HumanoidRootPart.Position - getMob():GetModelCFrame().p).magnitude

                if not getMob():FindFirstChild("Executed") then
                    moveto(getMob():GetModelCFrame() * CFrame.new(0,0,3), tonumber(Settings.TpSpeed or 75))
                end

                if game.Players.LocalPlayer.Character:FindFirstChildWhichIsA("Model"):FindFirstChild("Blade") then
                    if game.Players.LocalPlayer.Character:FindFirstChildWhichIsA("Model"):FindFirstChild("Equipped").Part0 == nil then
                        game:GetService("VirtualInputManager"):SendKeyEvent(true, "R", false, game)
                    end
                end

                if getMob():FindFirstChild("Executed") then
                    wait(1)
                    getMob():Destroy()
                end

                if getMob():FindFirstChild("Down") then
                    moveto(getMob():GetModelCFrame() * CFrame.new(0,0,3), tonumber(Settings.TpSpeed or 75))
                    game:GetService("ReplicatedStorage").Remotes.Sync:InvokeServer("Character", "Execute")
                end

                for Index, Value in next, plr.Character:GetChildren() do
                    if Value.Name == "Stun"
                        or Value.Name == "Attacking"
                        or Value.Name == "AttackAnnounce"
                        or Value.Name == "Busy"
                        or Value.Name == "SequenceCooldown"
                        or Value.Name == "SequenceFactor"
                        or Value.Name == "HeavyCooldown"
                        or Value.Name == "Sequence"
                        or Value.Name == "SequenceFactor"
                    then
                        Value:Destroy()
                    end
                end

                if enemy_mag <= 10 then
                    if getMob():FindFirstChild("Block") then
                        game:GetService("ReplicatedStorage").Remotes.Async:FireServer("Katana", "Heavy")
                    else
                        game:GetService("ReplicatedStorage").Remotes.Async:FireServer("Katana", "Server")
                    end
                    
                end
                  
            end)
        end       
    end    
end)

local Tab = Window:MakeTab({
	Name = "Misc",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
})

Tab:AddLabel("MISC FEATURES")

Tab:AddButton({
	Name = "GOD MODE",
	Callback = function()
      		game:GetService("ReplicatedStorage").Remotes.Async:FireServer("Character","FallDamageServer", 0/0)
  	end    
})

Tab:AddButton({
	Name = "RESET HP",
	Callback = function()
      		game:GetService("ReplicatedStorage").Remotes.Async:FireServer("Character","FallDamageServer", 9999999999999999999999999999999999999999999999999999999999999999999999999999999999)
  	end    
})

Tab:AddLabel("EXTRA FEATURES")

Tab:AddToggle({
	Name = "AUTO EQUIP KATANA",
	Default = false,
	Callback = function(v)
		Setting["AutoSword"] = v
	end    
})

Tab:AddToggle({
	Name = "NO SWING CD (beta)",
	Default = false,
	Callback = function(v)
		Setting["NoCD"] = v
	end    
})

Tab:AddToggle({
	Name = "NO FALL",
	Default = false,
	Callback = function(v)
		Setting["NoFall"] = v
	end    
})

Tab:AddToggle({
	Name = "ANTI SUN DAMAGE",
	Default = false,
	Callback = function(v)
		Setting["AntiSun"] = v
	end    
})

Tab:AddToggle({
	Name = "ANTI CROW",
	Default = false,
	Callback = function(v)
		Setting["AntiCrow"] = v
	end    
})

local noclipT
Tab:AddToggle({
	Name = "NO CLIP",
	Default = false,
	Callback = function(v)
		if v then
		  noclipT = game:GetService("RunService").Stepped:Connect(noclip)
		  else
		    if noclipT then
		      noclipT:Disconnect()
		    end
	    end
	end    
})

Tab:AddToggle({
	Name = "Anti Combat",
	Default = false,
	Callback = function(v)
		Setting["AntiCombat"] = v
	end    
})

local baditems = {
  "Combat",
  "Stun",
  "Damaged",
  "downCooldown",
  "cooldown",
}

Tab:AddToggle({
	Name = "Pickup Aura",
	Default = false,
	Callback = function(v)
		Setting["PickupAura"] = v
	end    
})

Tab:AddToggle({
	Name = "Auto Gourd",
	Default = false,
	Callback = function(v)
		Setting["AutoGourd"] = v
	end    
})

-- [] -- -- [] -- -- [] -- -- [] -- -- [] -- -- [] --
local nofall
nofall = hookmetmethod(game, "__namecall", function (self, ...)
  local method = getnamecallmethod
  local args = {...}
  
  if method == "FireServer"
  and tostring(self) == "Async"
  and args [1] == "Character"
  and args [2] == "FallDamageServer"
  and Settings.NoFall then
    return nil
  end
  
  if method == "FireServer"
  and tostring(self) == "Async"
  and args [1] == "Character"
  and args [2] == "DemonWeakness"
  and Settings.AntiSun then
    return nil
  end
  
  if method == "FireServer"
  and tostring(self) == "Async"
  and args [1] == "Character"
  and args [2] == "Crow"
  and Settings.AntiCrow then
    return nil
  end
  
  return nofall(self, ...)
end)

spawn (function()
  while wait() do
    if Settings.AutoSword then
      pcall(function()
        if game.Player.LocalPlayer.Character:FindFirstChildWhichIsA('Model'):FindFirstChild("Blade") then
          if game.Player.LocalPlayer.Character:FindFirstChildWhichIsA("Model"):FindFirstChild("Equipped").Part0 == nil then
            game:GetService("VirtualInputManager"):SendKeyEvent(true, "R", false, game)
          end
        end
      end)
    end
  end
end)

spawn(function()
  while wait() do
    if Setting.NoCD then
      pcall(function()
        for Index, Value in next, plr.Character:GetChildren() do
          if Value.Name == "Stun"
          or Value.Name == "Attacking"
          or Value.Name == "AttackAnnounce"
          or Value.Name == "Busy"
          or Value.Name == "SequenceCooldown"
          or Value.Name == "SequenceFactor"
          or Value.Name == "HeavyCooldown"
          or Value.Name == "Sequence"
          or Value.Name == "SequenceFactor" then
            Value:Destroy()
          end
        end
      end)
    end
  end
end)

  
